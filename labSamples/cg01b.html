<!DOCTYPE html>
<html>
    <head>
        <meta charset=utf-8>
        <title>IGC HKBU</title>
        <style>
            body { margin: 0; }
            canvas { width: 100%; height: 100% }
        </style>
    </head>
    <body>
        <script src="js/three.js"></script>
        <script src="js/loaders/GLTFLoader.js"></script>
        <script src="js/controls/TrackballControls.js"></script>
        <script>
            // Our Javascript will go here.
            var scene = new THREE.Scene();
            scene.background = new THREE.Color( 0x000000 ); //black

            var aspect = window.innerWidth / window.innerHeight;
            var camera = new THREE.PerspectiveCamera(75, aspect, 0.1, 1000);
            var renderer = new THREE.WebGLRenderer();
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            controls = new THREE.TrackballControls( camera );

            /*var geometry = new THREE.BoxGeometry(1, 1, 1);
            var material = new THREE.MeshNormalMaterial();
            var cube = new THREE.Mesh(geometry, material);
            scene.add(cube);
            camera.position.z = 5;*/

            camera.position.z = 50;
            var loader = new THREE.GLTFLoader();

            loader.load('models/orochimaru_-_naruto_shippuden_3d/scene.gltf', function (gltf) {

                scene.add(gltf.scene);
                //console.log(gltf);      // comment it out later
                gltf.scene.position.y = -150;

            }, undefined, function (error) {

                console.error(error);

            });

            var snake_scene = new THREE.Scene();
            loader.load('models/snake/scene.gltf', function (gltf) {
                snake_scene = gltf.scene;
                //scene.add(gltf.scene);
                scene.add(snake_scene);
                snake_scene.position.set(15, 3, 0); 
                snake_scene.rotation.set(0.4, -0.3, -0.5);
            }, undefined, function (error) {
                console.error(error);
            });

            var pointLight = new THREE.PointLight( 0xE25822 );

            // set its position
            pointLight.position.x = 0;
            pointLight.position.y = -50;
            pointLight.position.z = 30;

            // add to the scene
            scene.add(pointLight);

            var render = function () {
                requestAnimationFrame(render);
                //cube.rotation.x += 0.1;
                //cube.rotation.y += 0.1;
                snake_scene.position.x += Math.random()*0.2-0.1;
                snake_scene.position.y += Math.random()*0.2-0.1;
                snake_scene.position.z += Math.random()*0.2-0.1;

                pointLight.position.x += Math.random()*2-1;
                pointLight.position.y += Math.random()*2-1;
                pointLight.position.z += Math.random()*2-1;

                controls.update();
                renderer.render(scene, camera);
            };

            render();
        </script>
    </body>
</html>